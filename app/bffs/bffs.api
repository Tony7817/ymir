type (
	SigninRequest {
		Phonenumber string `json:"phone_number"`
		Captcha     string `json:"captcha"`
	}
	SigninResponse {
		UserId      int64  `json:"user_id"`
		Phonenumber string `json:"phonenumber"`
		Token       string `json:"token"`
	}
	StarListRequest {
		Keyword  *string `json:"keyword,optional"`
		Page     int64   `json:"page"`
		PageSize int64   `json:"page_size"`
	}
	StarListItem {
		Id       int64  `json:"id"`
		Name     string `json:"name"`
		CoverUrl string `json:"cover_url"`
	}
	StarListResponse {
		ToTal int64          `json:"total"`
		Stars []StarListItem `json:"stars"`
	}
	StarDetailRequest {
		Id int64 `path:"id"`
	}
	// TODO: add likes add favorites
	StarDetailResponse {
		Id          int64               `json:"id"`
		Name        string              `json:"name"`
		Description string              `json:"description"`
		Rate        string              `json:"rate"`
		RateCount   int64               `json:"rate_count"`
		CoverUrl    string              `json:"cover_url"`
		AvatarUrl   string              `json:"avatar_url"`
		PosterUrl   string              `json:"poster_url"`
		Products    ProductListResponse `json:"products"`
	}
	ProductListResponse {
		Total    int64             `json:"total"`
		Products []ProductListItem `json:"products"`
	}
	ProductListItem {
		Id          int64   `json:"id"`
		CoverUrl    string  `json:"cover_url"`
		Description string  `json:"description"`
		Price       float64 `json:"price"`
		Unit        string  `json:"unit"`
	}
)

@server (
	group:      star
	jwt:        Auth
	prefix:     /api/internal
	middleware: Auth
)
service bffs {
	@handler StarList
	post /star/list (StarListRequest) returns (StarListResponse)
}

@server (
	group:  auth
	prefix: /api/internal
)
service bffs {
	@handler Signin
	post /signin (SigninRequest) returns (SigninResponse)
}

